<!DOCTYPE html>
<html lang="en">
    <head>
        <script src="./vajro-sdk.js"></script>
    </head>
    <body>
        <div id="output">OUTPUT: </div>
        <script>
            var testOutput;

            // const handleLineItemAdded = (appContext, lineItem) => {
            //     let { productId } = lineItem;
            //     if (subscribedProducts.includes(productId)) {
            //         let subProductsToAdd = FreeProductMapping[productId];
            //         if (subProductsToAdd) {
            //             let promises = [];
            //             subProductsToAdd.forEach((subProduct) => {
            //                 let promise = addLineItem(subProduct);
            //                 promises.push(promise);
            //             });
            //             Promise.all(promises)
            //                 .then(() => {
            //                     alert('Sub products added successfully');
            //                 })
            //                 .catch((err) => {
            //                     alert(JSON.stringify(err));
            //                 });
            //         }
            //     }
            // };

            function testNoVariant(){
                const values = {
                    productId: "",
                    variantId: "40423668482239",
                    quantity: 1, 
                    customAttributes:  {},
                    lineItemType: "REGULAR"
                }
                let output = document.getElementById('output');
                VajroSDK.addLineItemToCart(values.productId, values.variantId, values.quantity, values.customAttributes, values.lineItemType).then(({appContext, lineItem}) => {
                    // if (lineItem.productId === values.productId){
                    //     testOutput = '<div class="success">No variant test case success</div>';
                    // }else{
                    //     testOutput = '<div class="error">No variant test case failed</div>';
                    // }
                    // output.innerHTML = testOutput + "<br/> <div>AppContext: " + JSON.stringify(appContext)+"</div> <br/> <div>lineItem: " + JSON.stringify(lineItem)+ "</div>";
                }).catch(err=>{
                    testOutput = '<div class="error">Error: No variant test case failed</div>';
                    output.innerHTML = "error: "+ JSON.stringify(err);
                });
            }
            testNoVariant();
        </script>
    </body>
</html>